{% extends "www/bases/documentation.html" %}

{% block subtitle %}Actions{% endblock subtitle %}

{% block content %}
<section class="content">
    <article class="section" id="main">
        <h1>
            Actions
        </h1>

        <p>
            Components can also trigger methods from the templates.
        </p>

        <h3>Click</h3>

        <p>
            An example action to reset the name property.
        </p>

        <pre data-lang="html"><code class="language-html">&lt;!-- hello-world.html --&gt;
&lt;div&gt;
    &lt;input unicorn:model="name" type="text" id="text"&gt;
    Hello {{ name|title }}
    &lt;button unicorn:click="reset_name"&gt;Reset Name&lt;/button&gt;
&lt;/div&gt;</code></pre>

        <pre data-lang="python"><code class="language-python"># hello_world.py
from django_unicorn.components import UnicornView

class HelloWorldView(UnicornView):
    name = "World"

    def reset_name(self):
        self.name = ""</code></pre>
    
        <p>
            When the button is clicked, the name property (and text input) will get set to an empty string.
        </p>

        <p class="tip">
            Instance methods, those which only take <code>self</code> as a parameter, can be called from the template with or without parenthesis.
        </p>

        <p>
            <code>unicorn:click</code> can also pass arguments to the backend component.
        </p>

        <pre data-lang="html"><code class="language-html">&lt;!-- hello-world.html --&gt;
&lt;div&gt;
    &lt;input unicorn:model="name" type="text" id="text"&gt;
    Hello {{ name|title }}
    &lt;button unicorn:click="set('Bob')"&gt;Set as Bob&lt;/button&gt;
    &lt;button unicorn:click="set()"&gt;Set default&lt;/button&gt;
&lt;/div&gt;</code></pre>

        <pre data-lang="python"><code class="language-python"># hello_world.py
from django_unicorn.components import UnicornView

class HelloWorldView(UnicornView):
    name = "World"

    def set(self, name="World"):
        self.name = name</code></pre>

        <p class="info">
            The method defined by the <code>unicorn:click</code> attribute is triggered by a <code>click</code> event on the element.
        </p>

        <h4>Special methods</h4>

        <h5 id="reset">reset</h5>

        <p>
            Use <code>unicorn:click="reset"</code> to be able to reset the component to its original state.
        </p>

        <div class="previous">
            <a href="{% url 'www:documentation' name='components/templates' %}">Templates</a>
        </div>

        <div class="next">
            <a href="{% url 'www:documentation' name='components/advanced' %}">Advanced</a>
        </div>
    </article>
</section>

{% endblock content %}
